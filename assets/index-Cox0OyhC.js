
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.hurui.me
 */
    
import{d as P,M as $,P as N,W as A,X as E,a as r,I as b,V as H,Y as u,Z as B,F as D,o as n,j as f,k as s,e as i,C as h,u as o,w as v,T as L,b as d,q as R,v as W,a0 as _,a1 as T,Q as z,J as F,D as K,E as j,R as q}from"./index-duH-bdmf.js";import{u as J}from"./index-Ce6gaY-h.js";import{e as Q}from"./eventBus-CGRXT3Tn.js";import U from"./index-zT7207eX.js";import{_ as X}from"./index.vue_vue_type_script_setup_true_lang-BBM_hTEI.js";import Y from"./index-Dl3dG_17.js";import Z from"./index-CDhCyZFG.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang-auG4Qmsr.js";import O from"./index-ohjiVDwd.js";import ee from"./index-cZzf3W-x.js";import te from"./index-DdJHptT8.js";import oe from"./link-CRgLTnE5.js";import{u as ie}from"./useMainPage-DG99H0Bm.js";import{u as se}from"./useMenu-KoywlsGb.js";import"./index.vue_vue_type_script_setup_true_lang-Dk0jD6xJ.js";import"./index-lmcJn-yU.js";import"./vee-validate-zod-CWf118A5.js";import"./index.vue_vue_type_script_setup_true_lang-1GPvIiEn.js";import"./index.vue_vue_type_script_setup_true_lang-CkUUKaB5.js";import"./index.vue_vue_type_script_setup_true_lang-B_OSqoS6.js";import"./logo-Bhd0Biy8.js";import"./rightSide.vue_vue_type_script_setup_true_lang-GX3eAmLz.js";import"./index.vue_vue_type_script_setup_true_lang-CMjwqNck.js";import"./index.vue_vue_type_script_setup_true_lang-CvNgeUEu.js";import"./index.vue_vue_type_script_setup_true_lang-CBn9uqgv.js";import"./index.vue_vue_type_script_setup_true_lang-BYyc3NWR.js";import"./search.vue_vue_type_script_setup_true_lang-B7PcuzwF.js";import"./index-CI_k7ddQ.js";import"./item.vue_vue_type_script_setup_true_lang-Cv0E_rCj.js";import"./index-C6E2hJcH.js";import"./index.vue_vue_type_script_setup_true_lang-BJ4lzyg2.js";import"./item.vue_vue_type_script_setup_true_lang-CpFXRa_e.js";import"./sub.vue_vue_type_script_setup_true_lang-B1A-xpbm.js";import"./index-DFS2ohEB.js";import"./index-CfJciZBr.js";import"./leftSide.vue_vue_type_script_setup_true_lang-C-aYQcnf.js";import"./index-Bt7bKyjV.js";const ae={id:"app-main"},ne={class:"wrapper"},re={class:"main-container pb-[var(--g-main-container-padding-bottom)]"},me={class:"main"},le=P({name:"Layout",__name:"index",setup(ue){const c=$(),t=N(),y=A(),m=E(),S=ie(),C=se(),w=r(()=>{let e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-header-height"));return(["single","side"].includes(t.settings.menu.mode)||t.mode==="mobile")&&(e=0),e}),k=r(()=>{let e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-main-sidebar-width"));return(t.settings.menu.mode==="single"||t.settings.menu.mode==="head"&&t.mode!=="mobile")&&(e=0),e}),M=r(()=>{let e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-width"));return t.settings.menu.subMenuCollapse&&t.mode!=="mobile"&&(e=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-sub-sidebar-collapse-width"))),m.sidebarMenus.every(a=>{var l;return((l=a.meta)==null?void 0:l.menu)===!1})&&(e=0),e}),V=r(()=>{let e=0;return t.settings.tabbar.enable&&(e+=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-tabbar-height"))),(!["head"].includes(t.settings.menu.mode)||t.settings.toolbar.breadcrumb)&&(e+=Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--g-toolbar-height"))),e}),g=r(()=>!!c.meta.link);return b(()=>t.settings.menu.subMenuCollapse,e=>{t.mode==="mobile"&&(e?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),b(()=>c.path,()=>{t.mode==="mobile"&&t.$patch(e=>{e.settings.menu.subMenuCollapse=!0})}),H(()=>{u("f5",e=>{t.settings.toolbar.pageReload&&(e.preventDefault(),S.reload())}),u("alt+`",e=>{t.settings.menu.enableHotkeys&&(e.preventDefault(),C.switchTo(m.actived+1<m.allMenus.length?m.actived+1:0))})}),B(()=>{u.unbind("f5"),u.unbind("alt+`")}),(e,a)=>{const l=D("RouterView"),x=j;return n(),f("div",{class:"layout",style:K({"--g-header-actual-height":`${o(w)}px`,"--g-main-sidebar-actual-width":`${o(k)}px`,"--g-sub-sidebar-actual-width":`${o(M)}px`,"--g-topbar-actual-height":`${o(V)}px`})},[s("div",ae,[i(Z),s("div",ne,[s("div",{class:h(["sidebar-container",{show:o(t).mode==="mobile"&&!o(t).settings.menu.subMenuCollapse}])},[i(O),i(ee)],2),s("div",{class:h(["invisible fixed inset-0 z-1009 bg-black/50 op-0 backdrop-blur-sm transition-opacity",{"op-100! visible!":o(t).mode==="mobile"&&!o(t).settings.menu.subMenuCollapse}]),onClick:a[0]||(a[0]=p=>o(t).toggleSidebarCollapse())},null,2),s("div",re,[i(te),s("div",me,[i(l,null,{default:v(({Component:p,route:I})=>[i(L,{name:"slide-right",mode:"out-in"},{default:v(()=>[(n(),d(T,{include:o(y).list},[R((n(),d(_(p),{key:I.fullPath})),[[W,!o(g)]])],1032,["include"]))]),_:2},1024)]),_:1}),o(g)?(n(),d(oe,{key:0})):z("",!0)]),i(Y)])])]),i(G),(n(),f(F,{key:0},[s("div",{class:"app-setting",onClick:a[1]||(a[1]=p=>o(Q).emit("global-app-setting-toggle"))},[i(x,{name:"i-uiw:setting-o",class:"icon"})]),i(U)],64)),i(X),(n(),d(_(o(J)("free-position"))))],4)}}}),Ue=q(le,[["__scopeId","data-v-80c8cd1d"]]);export{Ue as default};
